(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[322],{668:(e,t,a)=>{Promise.resolve().then(a.bind(a,842))},842:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(9944),s=a(1428),i=a(7182),r=a(8610);let l=r.Ik({version:r.eu(1),input:r.Ik({kind:r.k5(["smiles","pdb","name"]),value:r.Yj().min(1),protonation_pH:r.ai().finite(),conformer_method:r.k5(["etkdg","none"])}),render:r.Ik({modes:r.YO(r.k5(["2d","3d"])).min(1),outputs:r.YO(r.k5(["svg","png"])).min(1),width:r.ai().int().positive(),height:r.ai().int().positive(),transparent:r.zM(),dpi:r.ai().int().positive()}),style_preset:r.Yj().min(1),annotations:r.Ik({functional_groups:r.zM(),charge_labels:r.k5(["none","minimal","all"]).default("minimal"),atom_numbering:r.zM(),scale_bar:r.zM(),legend:r.k5(["none","auto"]).default("auto")}),"3d":r.Ik({representation:r.k5(["cartoon+licorice","surface","licorice"]),bg:r.k5(["transparent","black","white"]),camera:r.Ik({target:r.k5(["auto"]).default("auto"),distance:r.KC([r.k5(["auto"]),r.ai().positive()]),azimuth:r.ai(),elevation:r.ai()}),lighting:r.k5(["three_point_soft"]),quality:r.k5(["raytrace_high"])})});var o=a(4656);function c(){let e=(0,i.useRouter)(),[t,a]=(0,s.useState)("smiles"),[r,c]=(0,s.useState)("CC(=O)Oc1ccccc1C(=O)O"),[u,d]=(0,s.useState)(1024),[m,p]=(0,s.useState)(768),[h,g]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null);async function b(a){a.preventDefault(),f(null),g(!0);try{var n;let a=(n={version:1,input:{kind:t,value:r,protonation_pH:7.4,conformer_method:"none"},render:{modes:["2d","3d"],outputs:["svg","png"],width:u,height:m,transparent:!0,dpi:300},style_preset:"nature-2025",annotations:{functional_groups:!0,charge_labels:"minimal",atom_numbering:!1,scale_bar:!0,legend:"auto"},"3d":{representation:"cartoon+licorice",bg:"transparent",camera:{target:"auto",distance:"auto",azimuth:30,elevation:15},lighting:"three_point_soft",quality:"raytrace_high"}},l.parse(n)),s=function(e){let t=JSON.stringify(function e(t){if(null===t||"object"!=typeof t)return"number"==typeof t&&Number.isFinite(t)?Math.round(1e6*t)/1e6:t;if(Array.isArray(t))return t.map(e);let a={};for(let n of Object.keys(t).sort())a[n]=e(t[n]);return a}(e));return(0,o.createHash)("sha256").update(t).digest("hex")}(a),i=await fetch("/api/figure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok)throw Error("submit failed: ".concat(i.status));e.push("/f/".concat(s))}catch(e){f((null==e?void 0:e.message)||"Something went wrong")}finally{g(!1)}}return(0,n.jsxs)("div",{className:"max-w-3xl mx-auto p-4",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-4",children:"Research"}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Create deterministic, shareable figures using FigureSpec v1. Submit a molecule and we will generate content-addressed 2D/3D assets."}),(0,n.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[(0,n.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Input kind"}),(0,n.jsxs)("select",{className:"border rounded px-3 py-2 bg-white",value:t,onChange:e=>a(e.target.value),children:[(0,n.jsx)("option",{value:"smiles",children:"SMILES"}),(0,n.jsx)("option",{value:"name",children:"Name"}),(0,n.jsx)("option",{value:"pdb",children:"PDB"})]})]}),(0,n.jsxs)("label",{className:"sm:col-span-2 flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Value"}),(0,n.jsx)("input",{className:"border rounded px-3 py-2",value:r,onChange:e=>c(e.target.value),placeholder:"Enter SMILES / name / PDB id"})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Width (px)"}),(0,n.jsx)("input",{type:"number",className:"border rounded px-3 py-2",value:u,onChange:e=>d(parseInt(e.target.value||"0",10)),min:64})]}),(0,n.jsxs)("label",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"text-sm font-medium",children:"Height (px)"}),(0,n.jsx)("input",{type:"number",className:"border rounded px-3 py-2",value:m,onChange:e=>p(parseInt(e.target.value||"0",10)),min:64})]})]}),x&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:x}),(0,n.jsx)("button",{type:"submit",disabled:h,className:"inline-flex items-center gap-2 px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:h?"Submittingâ€¦":"Generate Figure"})]})]})}}},e=>{e.O(0,[821,89,695,274,358],()=>e(e.s=668)),_N_E=e.O()}]);